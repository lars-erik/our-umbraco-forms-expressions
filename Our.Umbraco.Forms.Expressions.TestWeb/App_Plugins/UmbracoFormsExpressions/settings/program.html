<div ng-controller="ufx.program.controller" class="ufx program" ng-cloak>
    <div class="setting-bar">
        <a ng-click="toggleFullScreen()"><i class="icon icon-window-sizes"></i></a>
    </div>
    <pre ng-model="setting.value" umb-ace-editor="aceOpts" class="setting-editor"></pre>
    <div class="fullscreen" ng-show="fullScreen">
        <pre ng-model="setting.value" umb-ace-editor="{mode:'forms',theme:'razor-chrome'}" class="fs-editor"></pre>
        <div class="parameters">
            <div>
                <b>Parameters</b>
            </div>
            <div>
                <div ng-repeat="field in fields">
                    <label>{{field.name}}</label>
                    <input type="number" ng-model="field.value" />
                </div>
            </div>
            <div class="result" ng-show="hasResult">
                <label>Result of expression:</label>
                {{result.Value}}
            </div>
            <div class="setFields" ng-show="hasResult">
                <label>Set fields:</label>
                <div ng-repeat="(key, value) in result.SetFields">
                    <label>{{key}}:</label>
                    <span>{{value}}</span>
                </div>
            </div>
            <div class="error" ng-show="result.Errors">
                <label>Errors:</label>
                {{result.Errors}}
            </div>
        </div>
        <div class="fs-bar">
            <button class="btn" ng-click="run()">Run</button>
            <button class="btn btn-success" ng-click="closeFullScreen()">Close</button>
        </div>
    </div>
</div>